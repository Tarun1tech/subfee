import React from "react";
import { useHistory } from "react-router-dom";
import DashLogo from "../../assets/images/dash-logo.png";
import UserImg from "../../assets/images/user.png";
import axios from "axios";
import { ToastContainer, toast } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';

const DashSidebar = (props) => {
  let url = window.location.pathname;
  let history = useHistory();
  const sidebarToggle = (url) => {
    history.push(`${url}`);
  };
  const token=localStorage.getItem("access_token")
  const _nav = [
    {
      type: "",
      name: `Dashboard`,
      to: "/dashboard",
      icon: (
        <div className="mr-4">
          <svg
            width="19"
            height="19"
            viewBox="0 0 19 19"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M16.7917 0.125H2.20833C1.6558 0.125 1.12589 0.344493 0.735194 0.735194C0.344493 1.12589 0.125 1.6558 0.125 2.20833V16.7917C0.125 17.3442 0.344493 17.8741 0.735194 18.2648C1.12589 18.6555 1.6558 18.875 2.20833 18.875H16.7917C17.3442 18.875 17.8741 18.6555 18.2648 18.2648C18.6555 17.8741 18.875 17.3442 18.875 16.7917V2.20833C18.875 1.6558 18.6555 1.12589 18.2648 0.735194C17.8741 0.344493 17.3442 0.125 16.7917 0.125ZM16.7917 16.7917H2.20833V2.20833H16.7917V16.7917ZM6.375 14.7083H4.29167V9.5H6.375V14.7083ZM10.5417 14.7083H8.45833V4.29167H10.5417V14.7083ZM14.7083 14.7083H12.625V7.41667H14.7083V14.7083Z"
              fill="white"
            />
          </svg>
        </div>
      ),
    },
    {
      type: "",
      name: `Content`,
      to: "/content",
      icon: (
        <div className="mr-4">
          <svg
            width="20"
            height="20"
            viewBox="0 0 20 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19.9167 3.20833V5.29166H16.7917V8.41666H14.7083V5.29166H11.5833V3.20833H14.7083V0.0833282H16.7917V3.20833H19.9167ZM16.7917 17.7917H2.20833V3.20833H8.45833V1.12499H2.20833C1.65631 1.12664 1.12736 1.34667 0.737015 1.73701C0.346672 2.12735 0.126649 2.6563 0.125 3.20833V17.7917C0.126649 18.3437 0.346672 18.8726 0.737015 19.263C1.12736 19.6533 1.65631 19.8733 2.20833 19.875H16.7917C17.3437 19.8733 17.8726 19.6533 18.263 19.263C18.6533 18.8726 18.8734 18.3437 18.875 17.7917V11.5417H16.7917V17.7917Z"
              fill="white"
            />
          </svg>
        </div>
      ),
    },
    {
      type: "",
      name: `Subscribers`,
      to: "/subscribers",
      icon: (
        <div className="mr-4">
          <svg
            width="21"
            height="20"
            viewBox="0 0 21 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M2.16665 11.5823L11.5416 11.5833C12.0672 11.5832 12.5735 11.7817 12.9589 12.1391C13.3443 12.4964 13.5804 12.9863 13.6198 13.5104L13.625 13.6667V15.2292C13.6239 18.875 9.75415 19.9167 6.85415 19.9167C4.01873 19.9167 0.255188 18.9208 0.0885214 15.4687L0.083313 15.2292V13.6656C0.083313 12.5677 0.933313 11.6677 2.0104 11.5875L2.16665 11.5833V11.5823ZM13.8541 11.5833H18.8333C19.3587 11.5834 19.8647 11.7821 20.2499 12.1394C20.6351 12.4968 20.871 12.9865 20.9104 13.5104L20.9166 13.6667V14.7083C20.9156 17.8979 17.9396 18.875 15.7083 18.875C14.9526 18.8768 14.2009 18.7637 13.4791 18.5396C13.8291 18.1375 14.1114 17.6781 14.3146 17.1573C14.7721 17.2595 15.2395 17.3116 15.7083 17.3125L15.9864 17.3062C17.0125 17.2615 19.201 16.9281 19.3469 14.9219L19.3541 14.7083V13.6667C19.354 13.5448 19.3112 13.4269 19.2332 13.3333C19.1552 13.2397 19.0469 13.1763 18.9271 13.1542L18.8333 13.1458H14.6135C14.5274 12.6359 14.3142 12.1559 13.9937 11.75L13.8541 11.5833H18.8333H13.8541ZM2.16665 13.1448L2.06248 13.1552C1.9625 13.176 1.87064 13.2252 1.7979 13.2969C1.72621 13.3692 1.677 13.4607 1.65623 13.5604L1.64581 13.6656V15.2292C1.64581 16.2802 2.11456 17.0229 3.12185 17.5646C3.98227 18.0281 5.20831 18.3083 6.52394 18.349L6.85415 18.3542L7.18435 18.349C8.49998 18.3083 9.72498 18.0281 10.5864 17.5646C11.5302 17.0562 12.0021 16.3719 12.0573 15.4219L12.0625 15.2281V13.6667C12.0623 13.5448 12.0195 13.4269 11.9415 13.3333C11.8635 13.2397 11.7552 13.1763 11.6354 13.1542L11.5416 13.1458L2.16665 13.1448ZM6.85415 0.125C8.09735 0.125 9.28963 0.61886 10.1687 1.49794C11.0478 2.37701 11.5416 3.5693 11.5416 4.8125C11.5416 6.0557 11.0478 7.24799 10.1687 8.12706C9.28963 9.00614 8.09735 9.5 6.85415 9.5C5.61094 9.5 4.41866 9.00614 3.53958 8.12706C2.66051 7.24799 2.16665 6.0557 2.16665 4.8125C2.16665 3.5693 2.66051 2.37701 3.53958 1.49794C4.41866 0.61886 5.61094 0.125 6.85415 0.125ZM16.2291 2.20833C17.1961 2.20833 18.1234 2.59245 18.8071 3.27617C19.4909 3.9599 19.875 4.88723 19.875 5.85417C19.875 6.8211 19.4909 7.74843 18.8071 8.43216C18.1234 9.11589 17.1961 9.5 16.2291 9.5C15.2622 9.5 14.3349 9.11589 13.6512 8.43216C12.9674 7.74843 12.5833 6.8211 12.5833 5.85417C12.5833 4.88723 12.9674 3.9599 13.6512 3.27617C14.3349 2.59245 15.2622 2.20833 16.2291 2.20833ZM6.85415 1.6875C5.13123 1.6875 3.72915 3.08958 3.72915 4.8125C3.72915 6.53542 5.13123 7.9375 6.85415 7.9375C8.57706 7.9375 9.97915 6.53542 9.97915 4.8125C9.97915 3.08958 8.57706 1.6875 6.85415 1.6875ZM16.2291 3.77083C15.0802 3.77083 14.1458 4.70521 14.1458 5.85417C14.1458 7.00312 15.0802 7.9375 16.2291 7.9375C17.3781 7.9375 18.3125 7.00312 18.3125 5.85417C18.3125 4.70521 17.3781 3.77083 16.2291 3.77083Z"
              fill="white"
            />
          </svg>
        </div>
      ),
    },
    {
      type: "",
      name: `Financieel`,
      to: "/finanical",
      icon: (
        <div className="mr-4">
          <svg
            width="19"
            height="20"
            viewBox="0 0 19 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M10.5417 4.51042C10.5417 4.78668 10.4319 5.05163 10.2366 5.24699C10.0412 5.44234 9.77627 5.55208 9.5 5.55208C9.22373 5.55208 8.95878 5.44234 8.76343 5.24699C8.56808 5.05163 8.45833 4.78668 8.45833 4.51042C8.45833 4.23415 8.56808 3.9692 8.76343 3.77385C8.95878 3.5785 9.22373 3.46875 9.5 3.46875C9.77627 3.46875 10.0412 3.5785 10.2366 3.77385C10.4319 3.9692 10.5417 4.23415 10.5417 4.51042ZM10.575 0.421874C10.2629 0.19398 9.88645 0.071167 9.5 0.071167C9.11355 0.071167 8.7371 0.19398 8.425 0.421874L0.694792 6.0625C-0.323958 6.80521 0.202083 8.41667 1.46146 8.41667H1.6875V14.4583C1.21713 14.6984 0.822259 15.0638 0.54652 15.5141C0.27078 15.9645 0.124902 16.4823 0.125 17.0104V18.5729C0.125 19.0031 0.475 19.3542 0.90625 19.3542H18.0938C18.3009 19.3542 18.4997 19.2719 18.6462 19.1253C18.7927 18.9788 18.875 18.7801 18.875 18.5729V17.0104C18.8751 16.4823 18.7292 15.9645 18.4535 15.5141C18.1777 15.0638 17.7829 14.6984 17.3125 14.4583V8.41667H17.5385C18.799 8.41667 19.3229 6.80521 18.3052 6.0625L10.575 0.420833V0.421874ZM9.34583 1.68333C9.39043 1.65074 9.44424 1.63318 9.49948 1.63318C9.55472 1.63318 9.60853 1.65074 9.65312 1.68333L16.7396 6.85417H2.26042L9.34687 1.68333H9.34583ZM15.75 8.41667V14.1458H13.6667V8.41667H15.75ZM12.1042 8.41667V14.1458H10.2812V8.41667H12.1042ZM8.71875 8.41667V14.1458H6.89583V8.41667H8.71875ZM2.98958 15.7083H16.0104C16.7292 15.7083 17.3125 16.2917 17.3125 17.0104V17.7917H1.6875V17.0104C1.6875 16.2917 2.27083 15.7083 2.98958 15.7083ZM3.25 14.1458V8.41667H5.33333V14.1458H3.25Z"
              fill="white"
            />
          </svg>
        </div>
      ),
    },
    {
      type: "",
      name: `Statistieken`,
      to: "/statistics",
      icon: (
        <div className="mr-4">
          <svg
            width="23"
            height="22"
            viewBox="0 0 23 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M19.7083 17.2396C20.2083 16.4375 20.4896 15.5 20.4271 14.4688C20.2917 12.2292 18.5104 10.3333 16.2917 10.0938C15.6348 10.0173 14.9692 10.0808 14.3386 10.2799C13.708 10.479 13.1267 10.8093 12.6328 11.2491C12.1389 11.6888 11.7437 12.2281 11.473 12.8315C11.2024 13.4349 11.0625 14.0887 11.0625 14.75C11.0625 17.3438 13.1563 19.4375 15.7396 19.4375C16.6563 19.4375 17.5104 19.1667 18.2292 18.7083L20.7396 21.2188C21.1458 21.625 21.8125 21.625 22.2188 21.2188C22.625 20.8125 22.625 20.1458 22.2188 19.7396L19.7083 17.2396ZM15.75 17.3542C15.0593 17.3542 14.397 17.0798 13.9086 16.5914C13.4202 16.1031 13.1458 15.4407 13.1458 14.75C13.1458 14.0593 13.4202 13.397 13.9086 12.9086C14.397 12.4202 15.0593 12.1458 15.75 12.1458C16.4407 12.1458 17.1031 12.4202 17.5914 12.9086C18.0798 13.397 18.3542 14.0593 18.3542 14.75C18.3542 15.4407 18.0798 16.1031 17.5914 16.5914C17.1031 17.0798 16.4407 17.3542 15.75 17.3542ZM15.375 8.5C14.6042 8.52084 13.8646 8.6875 13.1875 8.96875L12.6146 8.10417L9.40626 13.3229C9.32054 13.4627 9.20304 13.5803 9.0633 13.6661C8.92357 13.7518 8.76556 13.8034 8.60212 13.8166C8.43869 13.8298 8.27444 13.8043 8.12275 13.742C7.97107 13.6797 7.83622 13.5825 7.72918 13.4583L5.52085 10.8854L2.33335 15.9896C2.01043 16.5 1.32293 16.6354 0.833348 16.2813C0.395848 15.9583 0.270848 15.3542 0.562515 14.8854L4.50001 8.58334C4.87501 7.98959 5.71876 7.92709 6.1771 8.45834L8.37501 11.0208L11.6875 5.63542C11.7786 5.48659 11.9057 5.36313 12.0572 5.27647C12.2086 5.18981 12.3795 5.14275 12.5539 5.13963C12.7284 5.13651 12.9008 5.17745 13.0553 5.25865C13.2097 5.33985 13.3412 5.45869 13.4375 5.60417L15.375 8.5ZM18.0729 9.02084C17.4063 8.72917 16.6875 8.55209 15.9375 8.51042L20.6667 1.02084C20.9896 0.51042 21.6771 0.38542 22.1563 0.739587C22.6042 1.0625 22.7188 1.67709 22.4271 2.13542L18.0729 9.02084Z"
              fill="white"
            />
          </svg>
        </div>
      ),
    },
    {
      type: "",
      name: `Instellingen`,
      to: "/settings",
      icon: (
        <div className="mr-4">
          <svg
            width="25"
            height="25"
            viewBox="0 0 25 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M21.0937 13.0938V11.8984L22.5937 10.5859C22.8702 10.3422 23.0517 10.0086 23.106 9.64406C23.1603 9.27951 23.084 8.90749 22.8906 8.59375L21.0469 5.46875C20.9099 5.23146 20.7129 5.03436 20.4756 4.89724C20.2384 4.76011 19.9693 4.68778 19.6953 4.6875C19.5255 4.6862 19.3566 4.71259 19.1953 4.76563L17.2969 5.40625C16.9691 5.18844 16.6272 4.9927 16.2734 4.82031L15.875 2.85156C15.8035 2.49188 15.6079 2.16878 15.3222 1.93883C15.0366 1.70888 14.6791 1.58672 14.3125 1.59375H10.6562C10.2896 1.58672 9.93216 1.70888 9.6465 1.93883C9.36085 2.16878 9.16518 2.49188 9.09373 2.85156L8.6953 4.82031C8.33899 4.99266 7.99449 5.1884 7.66405 5.40625L5.80467 4.73438C5.64162 4.69189 5.47278 4.67606 5.30467 4.6875C5.03067 4.68778 4.76155 4.76011 4.52433 4.89724C4.28711 5.03436 4.09011 5.23146 3.95311 5.46875L2.10936 8.59375C1.927 8.90702 1.85924 9.27395 1.91768 9.63169C1.97611 9.98943 2.15711 10.3157 2.42967 10.5547L3.90623 11.9063V13.1016L2.42967 14.4141C2.14941 14.6547 1.96346 14.9868 1.90483 15.3515C1.84619 15.7162 1.91865 16.0899 2.10936 16.4063L3.95311 19.5313C4.09011 19.7685 4.28711 19.9656 4.52433 20.1028C4.76155 20.2399 5.03067 20.3122 5.30467 20.3125C5.47448 20.3138 5.64336 20.2874 5.80467 20.2344L7.70311 19.5938C8.03087 19.8116 8.37278 20.0073 8.72655 20.1797L9.12498 22.1484C9.19643 22.5081 9.3921 22.8312 9.67775 23.0612C9.96341 23.2911 10.3208 23.4133 10.6875 23.4063H14.375C14.7416 23.4133 15.0991 23.2911 15.3847 23.0612C15.6704 22.8312 15.866 22.5081 15.9375 22.1484L16.3359 20.1797C16.6922 20.0073 17.0367 19.8116 17.3672 19.5938L19.2578 20.2344C19.4191 20.2874 19.588 20.3138 19.7578 20.3125C20.0318 20.3122 20.3009 20.2399 20.5381 20.1028C20.7754 19.9656 20.9724 19.7685 21.1094 19.5313L22.8906 16.4063C23.073 16.093 23.1407 15.7261 23.0823 15.3683C23.0239 15.0106 22.8429 14.6843 22.5703 14.4453L21.0937 13.0938ZM19.6953 18.75L17.0156 17.8438C16.3883 18.3751 15.6714 18.7904 14.8984 19.0703L14.3437 21.875H10.6562L10.1015 19.1016C9.33469 18.8137 8.62164 18.3991 7.99217 17.875L5.30467 18.75L3.46092 15.625L5.58592 13.75C5.44147 12.9413 5.44147 12.1134 5.58592 11.3047L3.46092 9.375L5.30467 6.25L7.98436 7.15625C8.61165 6.62492 9.32858 6.20957 10.1015 5.92969L10.6562 3.125H14.3437L14.8984 5.89844C15.6653 6.18627 16.3783 6.60089 17.0078 7.125L19.6953 6.25L21.539 9.375L19.414 11.25C19.5585 12.0587 19.5585 12.8866 19.414 13.6953L21.539 15.625L19.6953 18.75Z"
              fill="white"
            />
            <path
              d="M12.5 17.1875C11.5729 17.1875 10.6666 16.9126 9.89577 16.3975C9.12491 15.8824 8.5241 15.1504 8.16932 14.2938C7.81453 13.4373 7.7217 12.4948 7.90257 11.5855C8.08344 10.6762 8.52988 9.841 9.18544 9.18544C9.841 8.52988 10.6762 8.08344 11.5855 7.90257C12.4948 7.7217 13.4373 7.81453 14.2938 8.16931C15.1504 8.5241 15.8824 9.12491 16.3975 9.89576C16.9126 10.6666 17.1875 11.5729 17.1875 12.5C17.1938 13.1173 17.0768 13.7297 16.8435 14.3012C16.6101 14.8728 16.2651 15.392 15.8285 15.8285C15.392 16.2651 14.8728 16.6101 14.3012 16.8435C13.7297 17.0768 13.1173 17.1938 12.5 17.1875ZM12.5 9.375C12.087 9.36538 11.6763 9.43963 11.2928 9.59327C10.9093 9.74691 10.561 9.97675 10.2689 10.2689C9.97675 10.561 9.74692 10.9093 9.59328 11.2928C9.43964 11.6763 9.36538 12.087 9.375 12.5C9.36538 12.913 9.43964 13.3237 9.59328 13.7072C9.74692 14.0907 9.97675 14.439 10.2689 14.7311C10.561 15.0233 10.9093 15.2531 11.2928 15.4067C11.6763 15.5604 12.087 15.6346 12.5 15.625C12.913 15.6346 13.3237 15.5604 13.7072 15.4067C14.0907 15.2531 14.439 15.0233 14.7311 14.7311C15.0233 14.439 15.2531 14.0907 15.4067 13.7072C15.5604 13.3237 15.6346 12.913 15.625 12.5C15.6346 12.087 15.5604 11.6763 15.4067 11.2928C15.2531 10.9093 15.0233 10.561 14.7311 10.2689C14.439 9.97675 14.0907 9.74691 13.7072 9.59327C13.3237 9.43963 12.913 9.36538 12.5 9.375Z"
              fill="white"
            />
          </svg>
        </div>
      ),
    },
    {
      type: "",
      name: `Naar je platform`,
      to: "#",
      icon: (
        <div className="mr-4">
          <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21.875 14.5833V19.7917C21.875 20.3442 21.6555 20.8741 21.2648 21.2648C20.8741 21.6555 20.3442 21.875 19.7917 21.875H5.20833C4.6558 21.875 4.12589 21.6555 3.73519 21.2648C3.34449 20.8741 3.125 20.3442 3.125 19.7917V5.20833C3.125 4.6558 3.34449 4.12589 3.73519 3.73519C4.12589 3.34449 4.6558 3.125 5.20833 3.125H10.4167M14.0625 10.9375L21.875 3.125L14.0625 10.9375ZM16.6667 3.125H21.875V8.33333L16.6667 3.125Z" stroke="white" stroke-width="2.08333" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
      ),
    },
  ];

  const logOut = (e) => {
    e.preventDefault();
    axios
      .post(`${process.env.REACT_APP_API_ENDPOINT}creator/logout`,{},{
          headers: {
            Authorization: `Bearer ${token}`,
          },
      }).then((response) => {
        if (response.data.success === true) {
          toast.success(response.data.message);
          localStorage.clear();
          history.push("/")
       
          }
          else {
            toast.error(response.data.error);
          }
        });
      
  }

  return (
    <div>
      <div className="sidebar">
        <img className="dash-logo" src={DashLogo} alt="logo" />
        <div className="sidenav">
          <ul>
            {_nav.map((item, index) => {
              return (
                <>
                  <div
                    onClick={() => sidebarToggle(item.to)}
                    className="c-sidebar-nav-item"
                    key={index}
                  >
                    <li className={item.to === url ? "active" : ""} key={index}>
                      <div className="sidebar_list">
                        {item.icon}
                        {item.name}
                      </div>
                    </li>
                  </div>
                </>
              );
            })}
          </ul>
        </div>
        <div className="user-detail d-flex justify-content-start align-items-center">
          <div>
            <img src={UserImg} alt="user" />
          </div>
          <div>
            <p>User Name</p>
            <span>1750 Subscribers</span>
          </div>
        </div>
        <div className="logout-btn" onClick={logOut}>
          <p><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3.75 18.75H11.25C11.5814 18.7497 11.8992 18.6179 12.1335 18.3835C12.3679 18.1492 12.4997 17.8314 12.5 17.5V15.625H11.25V17.5H3.75V2.5H11.25V4.375H12.5V2.5C12.4997 2.16858 12.3679 1.85083 12.1335 1.61648C11.8992 1.38213 11.5814 1.25033 11.25 1.25H3.75C3.41858 1.25033 3.10083 1.38213 2.86648 1.61648C2.63213 1.85083 2.50033 2.16858 2.5 2.5V17.5C2.50033 17.8314 2.63213 18.1492 2.86648 18.3835C3.10083 18.6179 3.41858 18.7497 3.75 18.75Z" fill="white"/>
          <path d="M12.8663 12.8663L15.1075 10.625H6.25V9.375H15.1075L12.8663 7.13375L13.75 6.25L17.5 10L13.75 13.75L12.8663 12.8663Z" fill="white"/>
          </svg> Uitloggen
          </p>
        </div>
      </div>
    </div>
  );
};

export default DashSidebar;
